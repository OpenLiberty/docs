// Copyright (c) 2018 IBM Corporation and others.
// Licensed under Creative Commons Attribution-NoDerivatives
// 4.0 International (CC BY-ND 4.0)
//   https://creativecommons.org/licenses/by-nd/4.0/
//
// Contributors:
//     IBM Corporation
//
:page-description: In RESTful systems, REST clients send requests to servers to retrieve or modify resources, and servers respond to these requests. For example, a RESTful social media site shares data by exposing an API that is served by a REST server.
:seo-title: REST clients
:seo-description: In RESTful systems, REST clients send requests to servers to retrieve or modify resources, and servers respond to these requests. For example, a RESTful social media site shares data by exposing an API that is served by a REST server.
:page-layout: general-reference
:page-type: general
= REST Clients

In RESTful systems, REST clients send requests to servers to retrieve or modify resources, and servers respond to these requests. For example, a RESTful social media site shares data by exposing an API that is served by a REST server. A RESTful mobile application that makes use of that API to fetch data and expose it to a user is a REST client. REST architecture is characterized by statelessness, meaning the server doesn't need to know anything about the client's state, and vice versa. All the information that a server needs to respond to any request from a REST client is included in the request itself.

== MicroProfile Rest Client

MicroProfile Rest Client provides a simple, easy-to-build template to access remote RESTful services. The template interface you build maps to the remote service that you want to call. MicroProfile Rest Client automatically generates a client instance based on what is defined and annotated in the template interface. This saves you the time and trouble of having to write the boilerplate code, such as setting up a client class, connecting to the remote server, or invoking the correct URI with the correct parameters. MicroProfile Rest Client simplifies the client-side API by handling the communication between the client and service. You only need to define and annotate an interface that describes the actions that you need to perform on a REST resource. An implementation of this interface is automatically generated for you when CDI is used to inject your client into a dependent class. 

link:/docs/intro/microprofile.html[MicroProfile] +
link:/guides/microprofile-rest-client.html[MicroProfile Rest Client] +
link:/blog/2019/01/24/async-rest-jaxrs-microprofile.html[Asynchronous REST with JAX-RS and MicroProfile]

== Serializing Data

JSON is a common byte string format that data structures or objects can be serialized into for transmission between RESTful services and clients. JSON is human readable and can describe the original data structure in a way that can be parsed by various programming languages, including Java. Microservices use JSON-B or JSON-P technologies to serialize and deserialize data in JSON format.

image::/docs/img/REST_services.png[]


== Synchronous & Asynchronous REST Clients

REST clients can be implemented either synchronously or asynchronously. A synchronous client constructs an HTTP structure, sends a request and waits for a response. An asynchronous client constructs an HTTP structure, sends a request, and moves on. In this case, another thread waits for the response and then notifies the client when the response arrives. The default behavior of MicroProfile Rest client is synchronous, though asynchronous behavior can be enabled.

One advantage of asynchronous behavior is that multiple services can be invoked simultaneously, resulting in faster overall execution.

link:/blog/2019/01/24/async-rest-jaxrs-microprofile.html[Asynchronous REST with JAX-RS and MicroProfile]

== Consuming RESTful APIs

Since RESTful systems are stateless, the requests that clients make to an API contain all the information a server needs to respond. Therefore, RESTful requests and responses can contain data beyond just what's in the HTTP URI and body. Data can be sent/received in HTTP headers, cookies, query parameters, path parameters, response status code, and more.  

When sending requests to an RESTful API, follow https://tools.ietf.org/html/rfc1122#page-12[the robustness principle]:

__Be liberal in what you accept, and conservative in what you send__

In practical terms, don't validate your request against variables or attributes that you don't need, and be prepared to accept unknown attributes as part of the response. Don't issue an exception just because you receive an unknown variable. Instead, look for language mechanisms that enable you to ignore unknown variables and define or filter which attributes to serialize.
