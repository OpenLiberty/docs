<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Wed Jun 03 12:10:09 EDT 2020 -->
<title>ThreadContext (Eclipse MicroProfile 3.3)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-06-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ThreadContext (Eclipse MicroProfile 3.3)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":1,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/microprofile/context/ThreadContext.html" target="_top">Frames</a></li>
<li><a href="ThreadContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.microprofile.context</a></div>
<h2 title="Interface ThreadContext" class="title">Interface ThreadContext</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">ThreadContext</span></pre>
<div class="block">This interface offers various methods for capturing the context of the current thread
 and applying it to various interfaces that are commonly used with completion stages
 and executor services.  This allows you to contextualize specific actions that need
 access to the context of the creator/submitter of the stage/task.

 <p>Example usage:</p>
 <pre>
 <code>ThreadContext threadContext = ThreadContext.builder()
     .propagated(ThreadContext.SECURITY, ThreadContext.APPLICATION)
     .cleared(ThreadContext.TRANSACTION)
     .unchanged(ThreadContext.ALL_REMAINING)
     .build();
 ...
 CompletableFuture&lt;Integer&gt; stage2 = stage1.thenApply(threadContext.contextualFunction(function));
 ...
 Future&lt;Integer&gt; future = executor.submit(threadContext.contextualCallable(callable));
 </code>
 </pre>

 <p>This interface is intentionally kept compatible with ContextService,
 with the hope that its methods might one day be contributed to that specification.</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a></span></code></th>
<td class="colLast">
<div class="block">Builder for <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a> instances.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ALL_REMAINING">ALL_REMAINING</a></span></code></th>
<td class="colLast">
<div class="block">Identifier for all available thread context types which are
 not specified individually under <code>cleared</code>,
 <code>propagated</code>, or <code>unchanged</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#APPLICATION">APPLICATION</a></span></code></th>
<td class="colLast">
<div class="block">Identifier for application context.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CDI">CDI</a></span></code></th>
<td class="colLast">
<div class="block">Identifier for CDI context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#NONE">NONE</a></span></code></th>
<td class="colLast">
<div class="block">An empty array of thread context.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SECURITY">SECURITY</a></span></code></th>
<td class="colLast">
<div class="block">Identifier for security context.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#TRANSACTION">TRANSACTION</a></span></code></th>
<td class="colLast">
<div class="block">Identifier for transaction context.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static <a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#builder()">builder</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates a new <a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext.Builder</code></a> instance.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;java.util.concurrent.Callable&lt;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#contextualCallable(java.util.concurrent.Callable)">contextualCallable</a></span>&#8203;(java.util.concurrent.Callable&lt;R&gt;&nbsp;callable)</code></th>
<td class="colLast">
<div class="block">Wraps a <code>Callable</code> with context that is captured from the thread that invokes
 <code>contextualCallable</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>&lt;T,&#8203;U&gt;<br>java.util.function.BiConsumer&lt;T,&#8203;U&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#contextualConsumer(java.util.function.BiConsumer)">contextualConsumer</a></span>&#8203;(java.util.function.BiConsumer&lt;T,&#8203;U&gt;&nbsp;consumer)</code></th>
<td class="colLast">
<div class="block">Wraps a <code>BiConsumer</code> with context that is captured from the thread that invokes
 <code>contextualConsumer</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;java.util.function.Consumer&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#contextualConsumer(java.util.function.Consumer)">contextualConsumer</a></span>&#8203;(java.util.function.Consumer&lt;T&gt;&nbsp;consumer)</code></th>
<td class="colLast">
<div class="block">Wraps a <code>Consumer</code> with context that is captured from the thread that invokes
 <code>contextualConsumer</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>&lt;T,&#8203;U,&#8203;R&gt;<br>java.util.function.BiFunction&lt;T,&#8203;U,&#8203;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#contextualFunction(java.util.function.BiFunction)">contextualFunction</a></span>&#8203;(java.util.function.BiFunction&lt;T,&#8203;U,&#8203;R&gt;&nbsp;function)</code></th>
<td class="colLast">
<div class="block">Wraps a <code>BiFunction</code> with context that is captured from the thread that invokes
 <code>contextualFunction</code>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;T,&#8203;R&gt;<br>java.util.function.Function&lt;T,&#8203;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#contextualFunction(java.util.function.Function)">contextualFunction</a></span>&#8203;(java.util.function.Function&lt;T,&#8203;R&gt;&nbsp;function)</code></th>
<td class="colLast">
<div class="block">Wraps a <code>Function</code> with context that is captured from the thread that invokes
 <code>contextualFunction</code>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.Runnable</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#contextualRunnable(java.lang.Runnable)">contextualRunnable</a></span>&#8203;(java.lang.Runnable&nbsp;runnable)</code></th>
<td class="colLast">
<div class="block">Wraps a <code>Runnable</code> with context that is captured from the thread that invokes
 <code>ContextualRunnable</code>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>&lt;R&gt;&nbsp;java.util.function.Supplier&lt;R&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#contextualSupplier(java.util.function.Supplier)">contextualSupplier</a></span>&#8203;(java.util.function.Supplier&lt;R&gt;&nbsp;supplier)</code></th>
<td class="colLast">
<div class="block">Wraps a <code>Supplier</code> with context captured from the thread that invokes
 <code>contextualSupplier</code>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.util.concurrent.Executor</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#currentContextExecutor()">currentContextExecutor</a></span>()</code></th>
<td class="colLast">
<div class="block">Creates an <code>Executor</code>that runs tasks on the same thread from which
 <code>execute</code>is invoked but with context that is captured from the thread
 that invokes <code>currentContextExecutor</code>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withContextCapture(java.util.concurrent.CompletableFuture)">withContextCapture</a></span>&#8203;(java.util.concurrent.CompletableFuture&lt;T&gt;&nbsp;stage)</code></th>
<td class="colLast">
<div class="block">Returns a new <code>CompletableFuture</code> that is completed by the completion of the
 specified stage.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;java.util.concurrent.CompletionStage&lt;T&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withContextCapture(java.util.concurrent.CompletionStage)">withContextCapture</a></span>&#8203;(java.util.concurrent.CompletionStage&lt;T&gt;&nbsp;stage)</code></th>
<td class="colLast">
<div class="block">Returns a new <code>CompletionStage</code> that is completed by the completion of the
 specified stage.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="ALL_REMAINING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ALL_REMAINING</h4>
<pre>static final&nbsp;java.lang.String ALL_REMAINING</pre>
<div class="block"><p>Identifier for all available thread context types which are
 not specified individually under <code>cleared</code>,
 <code>propagated</code>, or <code>unchanged</code>.</p>

 <p>When using this constant, be aware that bringing in a new
 context provider or updating levels of an existing context provider
 might change the set of available thread context types.</p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ManagedExecutor.Builder.html#cleared(java.lang.String...)"><code>ManagedExecutor.Builder.cleared(java.lang.String...)</code></a>, 
<a href="ManagedExecutor.Builder.html#propagated(java.lang.String...)"><code>ManagedExecutor.Builder.propagated(java.lang.String...)</code></a>, 
<a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext.Builder</code></a>, 
<a href="../../../../constant-values.html#org.eclipse.microprofile.context.ThreadContext.ALL_REMAINING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="APPLICATION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>APPLICATION</h4>
<pre>static final&nbsp;java.lang.String APPLICATION</pre>
<div class="block">Identifier for application context. Application context controls the
 application component that is associated with a thread. It can determine
 the thread context class loader as well as the set of resource references
 that are available for lookup or resource injection. An empty/default
 application context means that the thread is not associated with any
 application.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ManagedExecutor.Builder.html#cleared(java.lang.String...)"><code>ManagedExecutor.Builder.cleared(java.lang.String...)</code></a>, 
<a href="ManagedExecutor.Builder.html#propagated(java.lang.String...)"><code>ManagedExecutor.Builder.propagated(java.lang.String...)</code></a>, 
<a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext.Builder</code></a>, 
<a href="../../../../constant-values.html#org.eclipse.microprofile.context.ThreadContext.APPLICATION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CDI">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CDI</h4>
<pre>static final&nbsp;java.lang.String CDI</pre>
<div class="block">Identifier for CDI context. CDI context controls the availability of CDI
 scopes. An empty/default CDI context means that the thread does not have
 access to the scope of the session, request, and so forth that created the
 contextualized action.
 
 For example, consider the following <code>&#64;RequestScoped</code> resource:
 
 <pre><code>
    &#64;RequestScoped
    public class MyRequestScopedBean {
        public String getState() {
          // returns some request-specific information to the caller
        }
    }
    </code></pre>
 
 CDI context propagation includes request, session and conversation contexts.
 When CDI context is propagated, all of the above mentioned contexts that are
 currently active will be available to the contextualized task with preserved 
 state. <pre><code>
    ManagedExecutor exec = ManagedExecutor.builder()
        .propagated(ThreadContext.CDI, ThreadContext.APPLICATION)
        .build();
    
    &#64;Inject
    MyRequestScopedBean requestBean;
    
    &#64;GET
    public void foo() {
        exec.supplyAsync(() -&gt; {
            String state = reqBean.getState();
            // do some work with the request state
        }).thenApply(more -&gt; {
            // request state also available in future stages
        });
    }
    </code></pre>

 If CDI context is 'cleared', currently active contexts will still be
 available to the contextualized task, but their state will be erased.
 
 If CDI context is 'unchanged', access to CDI bean's contextual state 
 will be non-deterministic. Namely, context may be missing, or context
 from a different task may be applied instead. This option is discouraged,
 and only should be used if CDI context is not used in an application.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ManagedExecutor.Builder.html#cleared(java.lang.String...)"><code>ManagedExecutor.Builder.cleared(java.lang.String...)</code></a>, 
<a href="ManagedExecutor.Builder.html#propagated(java.lang.String...)"><code>ManagedExecutor.Builder.propagated(java.lang.String...)</code></a>, 
<a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext.Builder</code></a>, 
<a href="../../../../constant-values.html#org.eclipse.microprofile.context.ThreadContext.CDI">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="NONE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NONE</h4>
<pre>static final&nbsp;java.lang.String[] NONE</pre>
<div class="block">An empty array of thread context.
 This is provided as a convenience for code that wishes to be more explicit.
 For example, you can specify <code>builder.propagated(ThreadContext.NONE)</code>
 rather than <code>builder.propagated(new String[0])</code>
 or <code>builder.propagated()</code>, all of which have the same meaning.</div>
</li>
</ul>
<a id="SECURITY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SECURITY</h4>
<pre>static final&nbsp;java.lang.String SECURITY</pre>
<div class="block">Identifier for security context. Security context controls the credentials
 that are associated with the thread. An empty/default security context
 means that the thread is unauthenticated.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ManagedExecutor.Builder.html#cleared(java.lang.String...)"><code>ManagedExecutor.Builder.cleared(java.lang.String...)</code></a>, 
<a href="ManagedExecutor.Builder.html#propagated(java.lang.String...)"><code>ManagedExecutor.Builder.propagated(java.lang.String...)</code></a>, 
<a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext.Builder</code></a>, 
<a href="../../../../constant-values.html#org.eclipse.microprofile.context.ThreadContext.SECURITY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="TRANSACTION">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TRANSACTION</h4>
<pre>static final&nbsp;java.lang.String TRANSACTION</pre>
<div class="block">Identifier for transaction context. Transaction context controls the
 active transaction scope that is associated with the thread.
 Implementations are not expected to propagate transaction context across
 threads. Instead, the concept of transaction context is provided for its
 cleared context, which means the active transaction on the thread
 is suspended such that a new transaction can be started if so desired.
 In most cases, the most desirable behavior will be to leave transaction
 context defaulted to cleared (suspended),
 in order to prevent dependent actions and tasks from accidentally
 enlisting in transactions that are on the threads where they happen to
 run.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ManagedExecutor.Builder.html#cleared(java.lang.String...)"><code>ManagedExecutor.Builder.cleared(java.lang.String...)</code></a>, 
<a href="ManagedExecutor.Builder.html#propagated(java.lang.String...)"><code>ManagedExecutor.Builder.propagated(java.lang.String...)</code></a>, 
<a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext.Builder</code></a>, 
<a href="../../../../constant-values.html#org.eclipse.microprofile.context.ThreadContext.TRANSACTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="builder()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>builder</h4>
<pre class="methodSignature">static&nbsp;<a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a>&nbsp;builder()</pre>
<div class="block">Creates a new <a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext.Builder</code></a> instance.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext.Builder</code></a> instance.</dd>
</dl>
</li>
</ul>
<a id="currentContextExecutor()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentContextExecutor</h4>
<pre class="methodSignature">java.util.concurrent.Executor&nbsp;currentContextExecutor()</pre>
<div class="block"><p>Creates an <code>Executor</code>that runs tasks on the same thread from which
 <code>execute</code>is invoked but with context that is captured from the thread
 that invokes <code>currentContextExecutor</code>.</p>

 <p>Example usage:</p>
 <pre>
 <code>Executor contextSnapshot = threadContext.currentContextExecutor();
 ...
 // from another thread, or after thread context has changed,
 contextSnapshot.execute(() -&gt; obj.doSomethingThatNeedsContext());
 contextSnapshot.execute(() -&gt; doSomethingElseThatNeedsContext(x, y));
 </code></pre>

 <p>The returned <code>Executor</code> must raise <code>IllegalArgumentException</code>
 if an already-contextualized <code>Runnable</code> is supplied to its
 <code>execute</code> method.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an executor that wraps the <code>execute</code> method with context.</dd>
</dl>
</li>
</ul>
<a id="contextualCallable(java.util.concurrent.Callable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contextualCallable</h4>
<pre class="methodSignature">&lt;R&gt;&nbsp;java.util.concurrent.Callable&lt;R&gt;&nbsp;contextualCallable&#8203;(java.util.concurrent.Callable&lt;R&gt;&nbsp;callable)</pre>
<div class="block"><p>Wraps a <code>Callable</code> with context that is captured from the thread that invokes
 <code>contextualCallable</code>.</p>
 
 <p>When <code>call</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>call</code> method,
 then the <code>call</code> method of the provided <code>Callable</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>Callable</code> is returned to the invoker.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - callable result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>callable</code> - instance to contextualize.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>contextualized proxy instance that wraps execution of the <code>call</code> method with context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an already-contextualized <code>Callable</code> is supplied to this method.</dd>
</dl>
</li>
</ul>
<a id="contextualConsumer(java.util.function.BiConsumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contextualConsumer</h4>
<pre class="methodSignature">&lt;T,&#8203;U&gt;&nbsp;java.util.function.BiConsumer&lt;T,&#8203;U&gt;&nbsp;contextualConsumer&#8203;(java.util.function.BiConsumer&lt;T,&#8203;U&gt;&nbsp;consumer)</pre>
<div class="block"><p>Wraps a <code>BiConsumer</code> with context that is captured from the thread that invokes
 <code>contextualConsumer</code>.</p>

 <p>When <code>accept</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>accept</code> method,
 then the <code>accept</code> method of the provided <code>BiConsumer</code> is invoked.
 Finally, the previous context is restored on the thread, and control is returned to the invoker.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of first parameter to consumer.</dd>
<dd><code>U</code> - type of second parameter to consumer.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumer</code> - instance to contextualize.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>contextualized proxy instance that wraps execution of the <code>accept</code> method with context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an already-contextualized <code>BiConsumer</code> is supplied to this method.</dd>
</dl>
</li>
</ul>
<a id="contextualConsumer(java.util.function.Consumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contextualConsumer</h4>
<pre class="methodSignature">&lt;T&gt;&nbsp;java.util.function.Consumer&lt;T&gt;&nbsp;contextualConsumer&#8203;(java.util.function.Consumer&lt;T&gt;&nbsp;consumer)</pre>
<div class="block"><p>Wraps a <code>Consumer</code> with context that is captured from the thread that invokes
 <code>contextualConsumer</code>.</p>
 
 <p>When <code>accept</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>accept</code> method,
 then the <code>accept</code> method of the provided <code>Consumer</code> is invoked.
 Finally, the previous context is restored on the thread, and control is returned to the invoker.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of parameter to consumer.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumer</code> - instance to contextualize.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>contextualized proxy instance that wraps execution of the <code>accept</code> method with context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an already-contextualized <code>Consumer</code> is supplied to this method.</dd>
</dl>
</li>
</ul>
<a id="contextualFunction(java.util.function.BiFunction)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contextualFunction</h4>
<pre class="methodSignature">&lt;T,&#8203;U,&#8203;R&gt;&nbsp;java.util.function.BiFunction&lt;T,&#8203;U,&#8203;R&gt;&nbsp;contextualFunction&#8203;(java.util.function.BiFunction&lt;T,&#8203;U,&#8203;R&gt;&nbsp;function)</pre>
<div class="block"><p>Wraps a <code>BiFunction</code> with context that is captured from the thread that invokes
 <code>contextualFunction</code>.</p>

 <p>When <code>apply</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>apply</code> method,
 then the <code>apply</code> method of the provided <code>BiFunction</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>BiFunction</code> is returned to the invoker.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of first parameter to function.</dd>
<dd><code>U</code> - type of second parameter to function.</dd>
<dd><code>R</code> - function result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - instance to contextualize.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>contextualized proxy instance that wraps execution of the <code>apply</code> method with context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an already-contextualized <code>BiFunction</code> is supplied to this method.</dd>
</dl>
</li>
</ul>
<a id="contextualFunction(java.util.function.Function)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contextualFunction</h4>
<pre class="methodSignature">&lt;T,&#8203;R&gt;&nbsp;java.util.function.Function&lt;T,&#8203;R&gt;&nbsp;contextualFunction&#8203;(java.util.function.Function&lt;T,&#8203;R&gt;&nbsp;function)</pre>
<div class="block"><p>Wraps a <code>Function</code> with context that is captured from the thread that invokes
 <code>contextualFunction</code>.</p>
 
 <p>When <code>apply</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>apply</code> method,
 then the <code>apply</code> method of the provided <code>Function</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>Function</code> is returned to the invoker.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - type of parameter to function.</dd>
<dd><code>R</code> - function result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>function</code> - instance to contextualize.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>contextualized proxy instance that wraps execution of the <code>apply</code> method with context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an already-contextualized <code>Function</code> is supplied to this method.</dd>
</dl>
</li>
</ul>
<a id="contextualRunnable(java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contextualRunnable</h4>
<pre class="methodSignature">java.lang.Runnable&nbsp;contextualRunnable&#8203;(java.lang.Runnable&nbsp;runnable)</pre>
<div class="block"><p>Wraps a <code>Runnable</code> with context that is captured from the thread that invokes
 <code>ContextualRunnable</code>.</p>
 
 <p>When <code>run</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>run</code> method,
 then the <code>run</code> method of the provided <code>Runnable</code> is invoked.
 Finally, the previous context is restored on the thread, and control is returned to the invoker.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>runnable</code> - instance to contextualize.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>contextualized proxy instance that wraps execution of the <code>run</code> method with context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an already-contextualized <code>Runnable</code> is supplied to this method.</dd>
</dl>
</li>
</ul>
<a id="contextualSupplier(java.util.function.Supplier)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>contextualSupplier</h4>
<pre class="methodSignature">&lt;R&gt;&nbsp;java.util.function.Supplier&lt;R&gt;&nbsp;contextualSupplier&#8203;(java.util.function.Supplier&lt;R&gt;&nbsp;supplier)</pre>
<div class="block"><p>Wraps a <code>Supplier</code> with context captured from the thread that invokes
 <code>contextualSupplier</code>.</p>
 
 <p>When <code>supply</code> is invoked on the proxy instance,
 context is first established on the thread that will run the <code>supply</code> method,
 then the <code>supply</code> method of the provided <code>Supplier</code> is invoked.
 Finally, the previous context is restored on the thread, and the result of the
 <code>Supplier</code> is returned to the invoker.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>R</code> - supplier result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>supplier</code> - instance to contextualize.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>contextualized proxy instance that wraps execution of the <code>supply</code> method with context.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if an already-contextualized <code>Supplier</code> is supplied to this method.</dd>
</dl>
</li>
</ul>
<a id="withContextCapture(java.util.concurrent.CompletableFuture)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withContextCapture</h4>
<pre class="methodSignature">&lt;T&gt;&nbsp;java.util.concurrent.CompletableFuture&lt;T&gt;&nbsp;withContextCapture&#8203;(java.util.concurrent.CompletableFuture&lt;T&gt;&nbsp;stage)</pre>
<div class="block"><p>Returns a new <code>CompletableFuture</code> that is completed by the completion of the
 specified stage.</p>

 <p>The new completable future is backed by a ThreadContext rather than a ManagedExecutor.
 Therefore, the new stage and all dependent stages created from it, and so forth,
 have no default asynchronous execution facility and must raise <code>UnsupportedOperationException</code>
 for all <code>*Async</code> methods that do not specify an executor. For example,
 <code>thenRunAsync(Runnable)</code>.</p>

 <p>When dependent stages are created from the new completable future, thread context is captured
 and/or cleared as described in the documentation of the <a href="ManagedExecutor.html" title="interface in org.eclipse.microprofile.context"><code>ManagedExecutor</code></a> class, except that
 this ThreadContext instance takes the place of the default asynchronous execution facility in
 supplying the configuration of cleared/propagated context types. This guarantees that the action
 performed by each stage always runs under the thread context of the code that creates the stage,
 unless the user explicitly overrides by supplying a pre-contextualized action.</p>

 <p>Invocation of this method does not impact thread context propagation for the supplied
 completable future or any dependent stages created from it, other than the new dependent
 completable future that is created by this method.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - completable future result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stage</code> - a completable future whose completion triggers completion of the new completable
        future that is created by this method.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new completable future.</dd>
</dl>
</li>
</ul>
<a id="withContextCapture(java.util.concurrent.CompletionStage)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>withContextCapture</h4>
<pre class="methodSignature">&lt;T&gt;&nbsp;java.util.concurrent.CompletionStage&lt;T&gt;&nbsp;withContextCapture&#8203;(java.util.concurrent.CompletionStage&lt;T&gt;&nbsp;stage)</pre>
<div class="block"><p>Returns a new <code>CompletionStage</code> that is completed by the completion of the
 specified stage.</p>

 <p>The new completion stage is backed by a ThreadContext rather than a ManagedExecutor.
 Therefore, the new stage and all dependent stages created from it, and so forth,
 have no default asynchronous execution facility and must raise <code>UnsupportedOperationException</code>
 for all <code>*Async</code> methods that do not specify an executor. For example,
 <code>thenRunAsync(Runnable)</code>.</p>

 <p>When dependent stages are created from the new completion stage, thread context is captured
 and/or cleared as described in the documentation of the <a href="ManagedExecutor.html" title="interface in org.eclipse.microprofile.context"><code>ManagedExecutor</code></a> class, except that
 this ThreadContext instance takes the place of the default asynchronous execution facility in
 supplying the configuration of cleared/propagated context types. This guarantees that the action
 performed by each stage always runs under the thread context of the code that creates the stage,
 unless the user explicitly overrides by supplying a pre-contextualized action.</p>

 <p>Invocation of this method does not impact thread context propagation for the supplied
 stage or any dependent stages created from it, other than the new dependent
 completion stage that is created by this method.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - completion stage result type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stage</code> - a completion stage whose completion triggers completion of the new stage
        that is created by this method.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the new completion stage.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/microprofile/context/ThreadContext.html" target="_top">Frames</a></li>
<li><a href="ThreadContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
