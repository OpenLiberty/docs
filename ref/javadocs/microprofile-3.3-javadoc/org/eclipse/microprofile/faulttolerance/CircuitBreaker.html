<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Wed Jun 03 12:10:09 EDT 2020 -->
<title>CircuitBreaker (Eclipse MicroProfile 3.3)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-06-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CircuitBreaker (Eclipse MicroProfile 3.3)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/microprofile/faulttolerance/CircuitBreaker.html" target="_top">Frames</a></li>
<li><a href="CircuitBreaker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.microprofile.faulttolerance</a></div>
<h2 title="Annotation Type CircuitBreaker" class="title">Annotation Type CircuitBreaker</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>@Inherited
@Retention(RUNTIME)
@Documented
<a href="../../../../javax/interceptor/InterceptorBinding.html" title="annotation in javax.interceptor">@InterceptorBinding</a>
@Target({METHOD,TYPE})
public @interface <span class="memberNameLabel">CircuitBreaker</span></pre>
<div class="block">Defines a circuit breaker policy to an individual method or a class.
 <p>
 A circuit breaker aims to prevent further damage by not executing functionality that is doomed to fail.
 After a failure situation has been detected, circuit breakers prevent methods from being executed and
 instead throw exceptions immediately. After a certain delay or wait time, the functionality is attempted to
 be executed again.
 <p>
 A circuit breaker can be in one of the following states:
 <ul>
 <li>
 <i>Closed:</i> In normal operation, the circuit is closed. If a failure occurs, the Circuit Breaker records the event.
 In closed state the <code>requestVolumeThreshold</code> and <code>failureRatio</code> parameters may be configured in order to specify
 the conditions under which the breaker will transition the circuit to open. If the failure conditions are met, the circuit
 will be opened.
 </li>
 <li>
 <i>Open:</i> When the circuit is open, calls to the service operating under the circuit breaker will fail immediately.
 A delay may be configured for the circuit breaker. After the specified delay, the circuit transitions to half-open state.
 </li>
 <li>
 <i>Half-open:</i> In half-open state, trial executions of the service are allowed. By default one trial call to the
 service is permitted. If the call fails, the circuit will return to open state. The <code>successThreshold</code> parameter allows the
 configuration of the number of trial executions that must succeed before the circuit can be closed. After the specified
 number of successful executions, the circuit will be closed. If a failure occurs before the successThreshold is reached
 the circuit will transition to open.
 </li>
 </ul>
 Circuit state transitions will reset the circuit breaker's records.
 <p>
 When a method returns a result, the following rules are applied to determine whether the result is a success or a failure:
 <ul>
 <li>If the method does not throw a <code>Throwable</code>, it is considered a success
 <li>Otherwise, if the thrown object is assignable to any value in the <a href="#skipOn()"><code>skipOn()</code></a> parameter, is is considered a success
 <li>Otherwise, if the thrown object is assignable to any value in the <a href="#failOn()"><code>failOn()</code></a> parameter, it is considered a failure
 <li>Otherwise it is considered a success
 </ul>
 If a method throws a <code>Throwable</code> which is not an <code>Error</code> or <code>Exception</code>, non-portable behavior results.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Optional Element</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delay()">delay</a></span></code></th>
<td class="colLast">
<div class="block">The delay after which an open circuit will transitions to half-open state.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.time.temporal.ChronoUnit</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delayUnit()">delayUnit</a></span></code></th>
<td class="colLast">
<div class="block">The unit of the delay after which an open circuit will transitions to half-open state.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Class&lt;? extends java.lang.Throwable&gt;[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#failOn()">failOn</a></span></code></th>
<td class="colLast">
<div class="block">The list of exception types which should be considered failures</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#failureRatio()">failureRatio</a></span></code></th>
<td class="colLast">
<div class="block">The ratio of failures within the rolling window that will trip the circuit to open.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#requestVolumeThreshold()">requestVolumeThreshold</a></span></code></th>
<td class="colLast">
<div class="block">The number of consecutive requests in a rolling window.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Class&lt;? extends java.lang.Throwable&gt;[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#skipOn()">skipOn</a></span></code></th>
<td class="colLast">
<div class="block">The list of exception types which should not be considered failures</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#successThreshold()">successThreshold</a></span></code></th>
<td class="colLast">
<div class="block">The number of successful executions, before a half-open circuit is closed again.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a id="failOn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failOn</h4>
<pre>java.lang.Class&lt;? extends java.lang.Throwable&gt;[]&nbsp;failOn</pre>
<div class="block">The list of exception types which should be considered failures
 <p>
 Note that if a method throws a <code>Throwable</code> which is not an <code>Error</code> or <code>Exception</code>, non-portable behavior
 results.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the exception types which should be considered failures</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>{java.lang.Throwable.class}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="skipOn()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipOn</h4>
<pre>java.lang.Class&lt;? extends java.lang.Throwable&gt;[]&nbsp;skipOn</pre>
<div class="block">The list of exception types which should not be considered failures
 <p>
 This list takes priority over the types listed in <a href="#failOn()"><code>failOn()</code></a>
 <p>
 Note that if a method throws a <code>Throwable</code> which is not an <code>Error</code> or <code>Exception</code>, non-portable behavior results.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the exception types which should not be considered failures</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="delay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delay</h4>
<pre>long&nbsp;delay</pre>
<div class="block">The delay after which an open circuit will transitions to half-open state.
 <p>
 The amount of delay is taken from this delay value and the <code>delayUnit</code>, and defaults to five seconds. The
 value must be greater than or equal to <code>0</code>. <code>0</code> means no delay.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The delay time after which an open circuit transitions to half-open state</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>5000L</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="delayUnit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delayUnit</h4>
<pre>java.time.temporal.ChronoUnit&nbsp;delayUnit</pre>
<div class="block">The unit of the delay after which an open circuit will transitions to half-open state.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The unit of the delay</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#delay()"><code>delay()</code></a></dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>java.time.temporal.ChronoUnit.MILLIS</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="requestVolumeThreshold()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestVolumeThreshold</h4>
<pre>int&nbsp;requestVolumeThreshold</pre>
<div class="block">The number of consecutive requests in a rolling window.
 <p>
 The circuit breaker will trip if the number of failures exceed the <code>failureRatio</code> within the rolling window
 of consecutive requests. The value must be greater than or equal to <code>1</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The number of the consecutive requests in a rolling window</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>20</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="failureRatio()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>failureRatio</h4>
<pre>double&nbsp;failureRatio</pre>
<div class="block">The ratio of failures within the rolling window that will trip the circuit to open.
 <p>
 The circuit breaker will trip if the number of failures exceed the <code>failureRatio</code> within the rolling window
 of consecutive requests. For example, if the <code>requestVolumeThreshold</code> is <code>20</code> and <code>failureRatio</code>
 is <code>.50</code>, ten or more failures in 20 consecutive requests will trigger the circuit to open. The value must
 be between <code>0</code> and <code>1</code> inclusive.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The failure ratio threshold</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>0.5</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="successThreshold()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>successThreshold</h4>
<pre>int&nbsp;successThreshold</pre>
<div class="block">The number of successful executions, before a half-open circuit is closed again.
 <p>
 A half-open circuit will be closed once <code>successThreshold</code> executions were made without failures.
 If a failure occurs while in half-open state the circuit is immediately opened again. The value must be greater
 than or equal to <code>1</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The success threshold to fully close the circuit</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>1</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/microprofile/faulttolerance/CircuitBreaker.html" target="_top">Frames</a></li>
<li><a href="CircuitBreaker.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
