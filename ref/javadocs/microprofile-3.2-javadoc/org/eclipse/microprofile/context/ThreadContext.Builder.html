<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.4) on Fri Feb 14 13:01:02 EST 2020 -->
<title>ThreadContext.Builder (Eclipse MicroProfile 3.2)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-02-14">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ThreadContext.Builder (Eclipse MicroProfile 3.2)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/microprofile/context/ThreadContext.Builder.html" target="_top">Frames</a></li>
<li><a href="ThreadContext.Builder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.microprofile.context</a></div>
<h2 title="Interface ThreadContext.Builder" class="title">Interface ThreadContext.Builder</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing interface:</dt>
<dd><a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context">ThreadContext</a></dd>
</dl>
<hr>
<pre>public static interface <span class="typeNameLabel">ThreadContext.Builder</span></pre>
<div class="block"><p>Builder for <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a> instances.</p>

 <p>Example usage:</p>
 <pre><code> ThreadContext threadContext = ThreadContext.builder()
                                                   .propagated(ThreadContext.APPLICATION, ThreadContext.SECURITY)
                                                   .unchanged(ThreadContext.TRANSACTION)
                                                   .build();
 ...
 </code></pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context">ThreadContext</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#build()">build</a></span>()</code></th>
<td class="colLast">
<div class="block">Builds a new <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a> instance with the
 configuration that this builder represents as of the point in time when
 this method is invoked.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cleared(java.lang.String...)">cleared</a></span>&#8203;(java.lang.String...&nbsp;types)</code></th>
<td class="colLast">
<div class="block">Defines the set of thread context types to clear from the thread
 where the action or task executes.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#propagated(java.lang.String...)">propagated</a></span>&#8203;(java.lang.String...&nbsp;types)</code></th>
<td class="colLast">
<div class="block">Defines the set of thread context types to capture from the thread
 that contextualizes an action or task.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unchanged(java.lang.String...)">unchanged</a></span>&#8203;(java.lang.String...&nbsp;types)</code></th>
<td class="colLast">
<div class="block">Defines a set of thread context types that are essentially ignored,
 in that they are neither captured nor are they propagated or cleared
 from thread(s) that execute the action or task.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="build()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>build</h4>
<pre class="methodSignature"><a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context">ThreadContext</a>&nbsp;build()</pre>
<div class="block"><p>Builds a new <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a> instance with the
 configuration that this builder represents as of the point in time when
 this method is invoked.</p>

 <p>After <a href="#build()"><code>build()</code></a> is invoked, the builder instance retains its
 configuration and may be further updated to represent different
 configurations and build additional <code>ThreadContext</code>
 instances.</p>

 <p>All created instances of <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a> are destroyed
 when the application is stopped. The container automatically shuts down these
 <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a> instances and raises <code>IllegalStateException</code>
 to reject subsequent attempts to apply previously captured thread context.</p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new instance of <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalStateException</code> - for any of the following error conditions
         <ul>
         <li>if one or more of the same context types appear in multiple
         of the following sets:
         (<a href="#cleared(java.lang.String...)"><code>cleared(java.lang.String...)</code></a>, <a href="#propagated(java.lang.String...)"><code>propagated(java.lang.String...)</code></a>, <a href="#unchanged(java.lang.String...)"><code>unchanged(java.lang.String...)</code></a>)</li>
         <li>if a thread context type that is configured to be
         <a href="#cleared(java.lang.String...)"><code>cleared(java.lang.String...)</code></a> or <a href="#propagated(java.lang.String...)"><code>propagated(java.lang.String...)</code></a> is unavailable</li>
         <li>if context configuration is neither specified on the builder
         nor via MicroProfile Config, and the builder implementation lacks
         vendor-specific defaults of its own.</li>
         <li>if more than one <code>ThreadContextProvider</code> has the
         same thread context
         <a href="spi/ThreadContextProvider.html#getThreadContextType()"><code>type</code></a>
         </li>
         </ul></dd>
</dl>
</li>
</ul>
<a id="cleared(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleared</h4>
<pre class="methodSignature"><a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a>&nbsp;cleared&#8203;(java.lang.String...&nbsp;types)</pre>
<div class="block"><p>Defines the set of thread context types to clear from the thread
 where the action or task executes. The previous context is resumed
 on the thread after the action or task ends.</p>

 <p>This set replaces the <code>cleared</code> set that was
 previously specified on the builder instance, if any.</p>

 <p>For example, if the user specifies
 <a href="ThreadContext.html#TRANSACTION"><code>ThreadContext.TRANSACTION</code></a> in this set, then a transaction
 is not active on the thread when the action or task runs, such
 that each action or task is able to independently start and end
 its own transactional work.</p>

 <p><a href="ThreadContext.html#ALL_REMAINING"><code>ThreadContext.ALL_REMAINING</code></a> is automatically appended to the
 set of cleared context if neither the <a href="#propagated(java.lang.String...)"><code>propagated(java.lang.String...)</code></a> set nor the
 <a href="#unchanged(java.lang.String...)"><code>unchanged(java.lang.String...)</code></a> set include <a href="ThreadContext.html#ALL_REMAINING"><code>ThreadContext.ALL_REMAINING</code></a>.</p>

 <p>Constants for specifying some of the core context types are provided
 on <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a>. Other thread context types must be defined
 by the specification that defines the context type or by a related
 MicroProfile specification.</p>

 <p>The MicroProfile Config property, <code>mp.context.ThreadContext.cleared</code>,
 establishes a default that is used if no value is otherwise specified.
 The value of the MicroProfile Config property can be the empty string
 or a comma separated list of context type constant values.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>types</code> - types of thread context to clear from threads that run
        actions and tasks.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the same builder instance upon which this method is invoked.</dd>
</dl>
</li>
</ul>
<a id="propagated(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>propagated</h4>
<pre class="methodSignature"><a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a>&nbsp;propagated&#8203;(java.lang.String...&nbsp;types)</pre>
<div class="block"><p>Defines the set of thread context types to capture from the thread
 that contextualizes an action or task. This context is later
 re-established on the thread(s) where the action or task executes.</p>

 <p>This set replaces the <code>propagated</code> set that was
 previously specified on the builder instance, if any.</p>

 <p>Constants for specifying some of the core context types are provided
 on <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a>. Other thread context types must be defined
 by the specification that defines the context type or by a related
 MicroProfile specification.</p>

 <p>The MicroProfile Config property, <code>mp.context.ThreadContext.propagated</code>,
 establishes a default that is used if no value is otherwise specified.
 The value of the MicroProfile Config property can be the empty string
 or a comma separated list of context type constant values.</p>

 <p>Thread context types which are not otherwise included in this set or
 in the <a href="#unchanged(java.lang.String...)"><code>unchanged(java.lang.String...)</code></a> set are cleared from the thread of execution
 for the duration of the action or task.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>types</code> - types of thread context to capture and propagate.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the same builder instance upon which this method is invoked.</dd>
</dl>
</li>
</ul>
<a id="unchanged(java.lang.String...)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>unchanged</h4>
<pre class="methodSignature"><a href="ThreadContext.Builder.html" title="interface in org.eclipse.microprofile.context">ThreadContext.Builder</a>&nbsp;unchanged&#8203;(java.lang.String...&nbsp;types)</pre>
<div class="block"><p>Defines a set of thread context types that are essentially ignored,
 in that they are neither captured nor are they propagated or cleared
 from thread(s) that execute the action or task.</p>

 <p>This set replaces the <code>unchanged</code> set that was previously
 specified on the builder instance.</p>

 <p>Constants for specifying some of the core context types are provided
 on <a href="ThreadContext.html" title="interface in org.eclipse.microprofile.context"><code>ThreadContext</code></a>. Other thread context types must be defined
 by the specification that defines the context type or by a related
 MicroProfile specification.</p>

 <p>The MicroProfile Config property, <code>mp.context.ThreadContext.unchanged</code>,
 establishes a default that is used if no value is otherwise specified.
 The value of the MicroProfile Config property can be the empty string
 or a comma separated list of context type constant values. If a default
 value is not specified by MicroProfile Config, then the default value
 is an empty set.</p>

 <p>The configuration of <code>unchanged</code> context is provided for
 advanced patterns where it is desirable to leave certain context types
 on the executing thread.</p>

 <p>For example, to run under the transaction of the thread of execution,
 with security context cleared and all other thread contexts propagated:</p>
 <pre><code> ThreadContext threadContext = ThreadContext.builder()
                                                   .unchanged(ThreadContext.TRANSACTION)
                                                   .cleared(ThreadContext.SECURITY)
                                                   .propagated(ThreadContext.ALL_REMAINING)
                                                   .build();
 ...
 task = threadContext.contextualRunnable(new MyTransactionlTask());
 ...
 // on another thread,
 tx.begin();
 ...
 task.run(); // runs under the transaction due to 'unchanged'
 tx.commit();
 </code></pre></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>types</code> - types of thread context to leave unchanged on the thread.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the same builder instance upon which this method is invoked.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../index.html?org/eclipse/microprofile/context/ThreadContext.Builder.html" target="_top">Frames</a></li>
<li><a href="ThreadContext.Builder.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
